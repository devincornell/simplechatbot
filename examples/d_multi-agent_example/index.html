
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://devincornell.github.io/simplechatbot/examples/d_multi-agent_example/">
      
      
        <link rel="prev" href="../c-model_specific_chatbots/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Multi-agent Examples - simplechatbot</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multi-agent-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="simplechatbot" class="md-header__button md-logo" aria-label="simplechatbot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            simplechatbot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Multi-agent Examples
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/devincornell/simplechatbot" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    devincornell/simplechatbot
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="simplechatbot" class="md-nav__button md-logo" aria-label="simplechatbot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    simplechatbot
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/devincornell/simplechatbot" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    devincornell/simplechatbot
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../a-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../b-tool_calling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool Calling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c-model_specific_chatbots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model-specific ChatBots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Multi-agent Examples
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="multi-agent-examples">Multi-agent Examples</h1>
<p>In this example I show an example of an agent that writes a story using a series of steps.</p>
<ol>
<li>The user provides an idea for their story.</li>
<li>The <code>Outline Bot</code> generates an outline for the story including section titles and descriptions.</li>
<li>The first section content is created by the <code>Story Bot</code> from section title/description and the overall story description.</li>
<li>The <code>Summary Bot</code> creates a summary of the newly generated chapter.</li>
<li>The section summary is passed to the <code>Story Bot</code> along with section title/description to generate the next section.</li>
<li>All sections follow steps 3-5.
...</li>
<li>The sections are combined into a full story.</li>
</ol>
<p><img alt="Story bot design diagram" src="https://storage.googleapis.com/public_data_09324832787/story_bot_design.svg" /></p>
<pre><code class="language-python">import sys
sys.path.append('..')

import simplechatbot
from simplechatbot.openai import OpenAIChatBot
</code></pre>
<pre><code class="language-python">keychain = simplechatbot.APIKeyChain.from_json_file('../keys.json')

def new_chatbot(system_prompt: str):
    return OpenAIChatBot.new(
        model_name = 'gpt-4o-mini', 
        api_key=keychain['openai'],
        system_prompt=system_prompt,
    )

def stream_it(chatbot: simplechatbot.ChatBot) -&gt; simplechatbot.ChatResult:
    stream = chatbot.chat_stream(None, add_to_history=False)
    for chunk in stream:
        print(chunk.content, end='', flush=True)
    return stream.result()
</code></pre>
<pre><code class="language-python">import pydantic

from typing import Optional

#from pydantic import BaseModel, Field
import pydantic

class StoryOutline(pydantic.BaseModel):
    &quot;&quot;&quot;Outline of the story.&quot;&quot;&quot;

    story_topic: str = pydantic.Field(description=&quot;The topic of the story.&quot;)

    part1_title: str = pydantic.Field(description=&quot;Title of Part 1 of the story.&quot;)
    part1_description: str = pydantic.Field(description=&quot;Longer description of part 1.&quot;)

    part2_title: str = pydantic.Field(description=&quot;Title of Part 2 of the story.&quot;)
    part2_description: str = pydantic.Field(description=&quot;Longer description of part 2.&quot;)

    part3_title: str = pydantic.Field(description=&quot;Title of Part 3 of the story.&quot;)
    part3_description: str = pydantic.Field(description=&quot;Longer description of part 3.&quot;)


system_prompt = '''
The user will provide you a description of a story, and you must create a chapter outline with titles and brief descriptions.
Each section should contain a title and a brief description of what happens in that section.
The sections should all be part of a single narrative ark, but each section should have a complete beginning, middle, and end.
'''
outline_bot = new_chatbot(system_prompt)

q = f'Write an outline for a story about two friends who met when they were young and then lost touch. They meet again as adults and have to navigate their new relationship.'
outline: StoryOutline = outline_bot._model.with_structured_output(StoryOutline).invoke(q)
#chatbot_joke = chatbot_base.clone(model_factory=lambda llm: llm.with_structured_output(Joke), clear_tools=True)
#chatbot_joke.invoke('Tell me a joke about a chicken', max_tokens=50)

#chatbot_joke.invoke('Tell me a joke about a chicken', max_tokens=50)
outline
</code></pre>
<pre><code>StoryOutline(story_topic='Rekindling Old Friendships', part1_title='The Childhood Bond', part1_description='Two young boys, Alex and Ben, meet in their neighborhood and quickly become inseparable friends. They share adventures, secrets, and dreams, creating a strong bond that seems unbreakable. However, due to family circumstances, Ben moves away, and they lose touch. Their childhood memories linger, but life pulls them in different directions.', part2_title='Years Apart', part2_description='As the years pass, Alex and Ben grow up in different environments, shaping their identities and interests. Alex becomes a successful artist in his hometown, while Ben moves to a big city to pursue a career in technology. They both think of each other fondly but never make the effort to reconnect. Their lives seem fulfilling, but a sense of something missing remains.', part3_title='A Chance Encounter', part3_description="Fate intervenes when Alex visits the city for an art exhibition and unexpectedly runs into Ben. The initial surprise gives way to excitement as they reminisce about their childhood. However, both men struggle with their new adult lives, and the dynamic has changed. They navigate awkwardness, shared memories, and the challenge of rekindling their friendship while adapting to who they've become.")
</code></pre>
<pre><code class="language-python">def first_section_writer_prompt(story_topic: str, section_title: str, section_description: str):

    return f'''
    You are to write the first section of a larger story based on a general story topic, the name of the section, and a longer description of what happens.

    Your responses should only include text that is part of the story.

    General story topic: &quot;{story_topic}&quot;

    Section title: &quot;{section_title}&quot;

    Description: &quot;{section_description}&quot;

    '''
cb1 = new_chatbot(first_section_writer_prompt(outline.story_topic, outline.part1_title, outline.part1_description))
ch1_result = stream_it(cb1)
</code></pre>
<pre><code>**The Childhood Bond**

The sun hung low in the sky, casting golden rays across the quiet suburban street, where laughter and the sounds of summer filled the air. Alex sat on the curb, swinging his feet back and forth, watching the world around him with wide, curious eyes. It was a typical afternoon, the kind that promised adventure to any child willing to seek it. As he tossed a small pebble into the gutter, the sound of approaching footsteps caught his attention.

"Hey!" a voice called out, bright and full of energy. Alex turned to see a boy his age, with wild brown hair and a grin that seemed to stretch from ear to ear. "Wanna play?"

"Sure!" Alex replied, jumping up from his spot. "What do you want to do?"

"Let’s go explore the woods!" Ben suggested, pointing toward the dense line of trees at the end of the street. The woods had always been a place of mystery—filled with whispered tales of hidden treasures and secret paths.

They bounded down the sidewalk, their laughter echoing in the warm air, as they ventured into the shaded realm of ancient trees. The scent of pine filled their lungs, and the sunlight filtered through the leaves, creating a mosaic of light and shadow on the forest floor.

"Race you to the big oak!" Ben shouted, taking off without waiting for a response. Alex sprinted after him, their feet pounding against the soft earth, both boys giggling uncontrollably. Ben reached the tree first, his hands resting on the rough bark as he caught his breath.

"You're too slow!" he teased, sticking out his tongue. Alex playfully shoved him, and they both collapsed into a heap of laughter on the grass, their carefree spirits unburdened by the weight of the world.

As the days turned into weeks, the two boys shared countless adventures. They built forts out of fallen branches, crafted imaginary worlds where they were heroes saving the day, and whispered secrets under the stars while lying on the cool grass. Their bond grew stronger with each passing moment, a friendship that felt as solid as the very ground they played upon.

But as summer waned and the leaves began to turn, change loomed on the horizon. One afternoon, Ben’s mother called them inside, her voice tinged with a hint of sadness. "Boys, we need to talk."

Alex’s heart sank as he looked at Ben, who had turned pale. The news came like a storm cloud rolling in, dark and unexpected: Ben's family was moving across the country for his dad’s new job. The reality of it hit them both like a punch to the gut.

"But we can't!" Alex protested, his voice trembling. "We’re best friends! You can’t just leave!"

"I don’t want to go, either," Ben replied, tears welling in his eyes. "But we have to."

In the days that followed, they clung to every moment, making promises that felt both essential and fragile. They carved their initials into the trunk of the big oak, a testament to their friendship. They shared one last adventure—their secret hideout where they had buried a time capsule filled with treasures, a token of their childhood dreams.

When the day finally came for Ben to leave, Alex felt as if a part of him was being torn away. They stood on the front porch, the weight of unspoken words heavy between them. Ben hugged Alex tightly, whispering, "No matter what, you’ll always be my best friend."

As the car pulled away, Alex watched Ben’s face grow smaller and smaller until it vanished from sight. The laughter that once filled their days faded into silence, replaced by the bittersweet memories of their shared childhood.

Time passed, and life pulled them in different directions. Alex would often find himself wandering back to that old oak, tracing the letters they carved into its bark, feeling the warmth of their friendship linger like the fading summer sun. Though the world had changed, the bond they formed remained etched in his heart, a cherished piece of his childhood that he would never forget.
</code></pre>
<pre><code class="language-python">def summary_prompt(story_so_far: str) -&gt; str:
    return f'''
    You need to create a summary of the following section of a story that can be used as a starting point for writing the next section.

    Your responses should only include text that is part of the story.

    The previous section of the story:

    {story_so_far}
    '''
cb1_sum = new_chatbot(summary_prompt(ch1_result.content))
ch1_sum = stream_it(cb1_sum)
</code></pre>
<pre><code>**Summary: The Childhood Bond**

On a sunny afternoon, Alex meets Ben, a boy with wild hair, and they embark on a series of adventures in the nearby woods, building a strong friendship filled with laughter and imaginative play. As summer ends, they face the heartbreaking news that Ben's family is moving away, leading to emotional goodbyes and promises to remain best friends. They create lasting memories, including carving their initials into a tree and burying a time capsule. After Ben leaves, Alex struggles with the absence of his friend but holds onto the cherished memories of their childhood bond, visiting their secret spot and reflecting on what they shared.
</code></pre>
<pre><code class="language-python">def next_section_writer_prompt(story_topic: str, section_title: str, section_description: str, story_so_far: str):
    return f'''
    You are to write the first section of a larger story based on a general story topic, the name of the section, and a longer description of what happens.

    Your responses should only include text that is part of the story.

    General story topic: &quot;{story_topic}&quot;

    Summary of previous section: &quot;{story_so_far}&quot;

    Section title: &quot;{section_title}&quot;

    Description: &quot;{section_description}&quot;

    '''
cb2 = new_chatbot(next_section_writer_prompt(outline.story_topic, outline.part2_title, outline.part2_description, ch1_sum.content))
ch2_result = stream_it(cb2)
</code></pre>
<pre><code>**Years Apart**

As the sun dipped below the horizon, painting the sky in hues of orange and purple, Alex stood in his small studio, surrounded by canvases that captured the beauty of his hometown. He dipped his brush into a palette of colors, each stroke a reflection of the life he had built since Ben moved away. The quaint streets, the familiar faces, and the gentle rustling of leaves in the nearby woods were his muses, but amidst the vibrant scenes he created, there lingered an emptiness. He often found himself staring at the tree they had carved their initials into, a bittersweet reminder of a friendship that had weathered the storms of childhood but faded with time.

Meanwhile, in the bustling heart of the city, Ben was immersed in the world of technology, surrounded by the hum of computers and the glow of screens. He had traded the rustling leaves for the cacophony of urban life, and although he thrived in his career, he often found himself reminiscing about the adventures he and Alex had shared. Late-night coding sessions were accompanied by thoughts of the laughter they had exchanged over makeshift campfires, and the thrill of their secret hideouts in the woods. Yet, in the whirlwind of deadlines and city life, Ben never found the courage to reach out. The years slipped by, each month a reminder of the bond that once was, now an echo of the past.

Both men moved through their lives with a sense of fulfillment, yet an unshakeable feeling lingered—something was missing. Alex found success in galleries and art shows, but often, when he received compliments, he would imagine how Ben would have reacted, his wild hair bouncing with excitement. Ben, in turn, celebrated promotions and accolades, but every achievement felt slightly hollow without someone to share it with, someone who understood his journey from the very beginning.

Despite the distance, both men held a piece of each other in their hearts. They would occasionally scroll through old photos on their phones—pictures of them grinning widely, arms slung around each other, with the woods stretching behind them like a canvas of childhood. Those images brought warmth, yet they also served as a reminder of what had been lost to time and circumstance.

As the seasons changed, Alex found himself at a crossroads. He had completed his latest collection and was preparing for an exhibition that would showcase the essence of growth and change. But as he framed the last piece, a painting inspired by the memories of his childhood with Ben, he felt a tug at his heart—a longing to reconnect, to bridge the years that had kept them apart.

On the other side of the city, Ben sat in his apartment, staring at a screen filled with code that seemed to blur together. In a moment of nostalgia, he opened a drawer and pulled out an old, worn-out notebook—the very one they had used to jot down their dreams and plans as kids. As he flipped through its pages, memories flooded back, reminding him of the simplicity of their friendship and the joy it had brought him. He felt a stirring in his chest, a desire to reach out, to rekindle what they had lost.

Both men were on the brink of change, standing before the door that separated them from a reunion, unaware that fate had a plan to unite them once more.
</code></pre>
<pre><code class="language-python">cb2_sum = new_chatbot(summary_prompt(ch2_result.content))
ch2_sum = stream_it(cb2_sum)
</code></pre>
<pre><code>As Alex prepares for his exhibition, he feels a strong desire to reconnect with Ben, the memories of their childhood friendship weighing heavily on his heart. Meanwhile, Ben reflects on their shared past while going through an old notebook filled with dreams they once had, igniting a yearning to reach out to Alex. Both men stand at a pivotal moment in their lives, ready to bridge the gap that years of distance have created, unaware that fate is orchestrating their reunion.
</code></pre>
<pre><code class="language-python">cb3 = new_chatbot(next_section_writer_prompt(outline.story_topic, outline.part2_title, outline.part2_description, ch1_sum.content))
ch3_result = stream_it(cb3)
</code></pre>
<pre><code>**Years Apart**

The years drifted by like leaves caught in a gentle autumn breeze, swirling through the seasons of life. Alex found solace in the vibrant colors of his paintbrush, each stroke on the canvas a tribute to the adventures he once shared with Ben. The small town felt comforting, its familiar streets and friendly faces wrapping around him like a warm blanket. Yet, in the quiet moments, when the sun dipped below the horizon and shadows danced across his studio, a flicker of nostalgia would ignite in his heart, reminding him of laughter echoing through the woods and the promise of forever friendship whispered beneath the tall oak tree.

Meanwhile, in the bustling heart of the city, Ben navigated the concrete labyrinth of his new life, his wild hair now tamed into a professional style that suited his ambitions in technology. He thrived amidst the buzz of innovation and the thrill of new challenges. Yet, even as he climbed the corporate ladder, the faint memory of a childhood friend lingered at the edges of his consciousness. On weekends, when he would visit parks or cafes bustling with laughter, he often found himself gazing at the sky, imagining if Alex was somewhere painting the very clouds that drifted above.

Both boys, now men, had buried their friendship beneath the weight of their new realities. Alex attended art shows and mingled with fellow creatives, sharing stories and dreams with kindred spirits. He often caught himself mentioning a friend from his childhood, a wistful smile breaking across his face, but the conversations would inevitably shift, and Ben's name would fade into the background, a ghost of a memory.

In the city, Ben would occasionally scroll through his phone, pausing at old photos from a summer long gone. His heart would swell with the joy of those carefree days, yet the urge to reconnect faded like the last light of day. He had built a life filled with achievement and ambition, but the emptiness of missing a true friend nagged at him, a silent ache he couldn’t quite place.

Years passed, and both Alex and Ben found themselves in comfortable routines, their lives rich with experiences but lacking the depth of shared memories. It wasn’t until one fateful autumn day, when Alex received an unexpected email, that the past came rushing back. The subject line read: “A Blast from the Past,” and when he opened it, he was met with a familiar face, a digital snapshot of Ben standing in front of a tech conference banner, his trademark grin lighting up the screen.

With trembling fingers, Alex typed a response, his heart racing at the thought of rekindling a friendship that had once meant the world to him. “Hey, Ben! It’s been too long. How have you been?”

As he hit send, he felt a spark of hope, the kind that flickers in the darkest of times, and for the first time in years, the thread of their childhood bond began to weave its way back into their lives.
</code></pre>
<pre><code class="language-python">cb3_sum = new_chatbot(summary_prompt(ch3_result.content))
ch3_sum = stream_it(cb3_sum)
</code></pre>
<pre><code>As Alex waited for a reply, memories of their shared past flooded his mind. He recalled the laughter, the adventures, and the promises made under the oak tree. Each moment felt like a thread pulling him back to a time when their friendship was unbreakable. Meanwhile, Ben sat in his modern apartment, staring at the email notification that had just pinged on his screen. A rush of emotions surged through him as he recognized Alex’s name. He hesitated for a moment, grappling with the weight of the years that had passed and the life he had built without his childhood friend.

Finally, with a deep breath, he opened the email. The warmth of Alex's words brought a smile to his face, and he felt a longing to reconnect. As he began to type his response, he considered how much he missed the simplicity of their friendship and the joy that came from just being together. The excitement of rediscovering their bond filled him with a sense of purpose.

Both men stood on the precipice of change, their hearts igniting with the possibility of rekindling a friendship that had lingered in the shadows for too long. Little did they know, this was just the beginning of a journey that would lead them back to each other, challenging them to confront the years apart and the lives they had built in solitude.
</code></pre>
<pre><code class="language-python">story = dict()
story[outline.part1_title] = ch1_result.content
story[outline.part2_title] = ch2_result.content
story[outline.part3_title] = ch3_result.content
story.keys()
</code></pre>
<pre><code>dict_keys(['The Childhood Bond', 'Years Apart', 'A Chance Encounter'])
</code></pre>
<pre><code class="language-python">for title, content in story.items():
    print(f'\n\n\n{title}\n\n{content}\n\n\n')
</code></pre>
<pre><code>The Childhood Bond

**The Childhood Bond**

The sun hung low in the sky, casting golden rays across the quiet suburban street, where laughter and the sounds of summer filled the air. Alex sat on the curb, swinging his feet back and forth, watching the world around him with wide, curious eyes. It was a typical afternoon, the kind that promised adventure to any child willing to seek it. As he tossed a small pebble into the gutter, the sound of approaching footsteps caught his attention.

"Hey!" a voice called out, bright and full of energy. Alex turned to see a boy his age, with wild brown hair and a grin that seemed to stretch from ear to ear. "Wanna play?"

"Sure!" Alex replied, jumping up from his spot. "What do you want to do?"

"Let’s go explore the woods!" Ben suggested, pointing toward the dense line of trees at the end of the street. The woods had always been a place of mystery—filled with whispered tales of hidden treasures and secret paths.

They bounded down the sidewalk, their laughter echoing in the warm air, as they ventured into the shaded realm of ancient trees. The scent of pine filled their lungs, and the sunlight filtered through the leaves, creating a mosaic of light and shadow on the forest floor.

"Race you to the big oak!" Ben shouted, taking off without waiting for a response. Alex sprinted after him, their feet pounding against the soft earth, both boys giggling uncontrollably. Ben reached the tree first, his hands resting on the rough bark as he caught his breath.

"You're too slow!" he teased, sticking out his tongue. Alex playfully shoved him, and they both collapsed into a heap of laughter on the grass, their carefree spirits unburdened by the weight of the world.

As the days turned into weeks, the two boys shared countless adventures. They built forts out of fallen branches, crafted imaginary worlds where they were heroes saving the day, and whispered secrets under the stars while lying on the cool grass. Their bond grew stronger with each passing moment, a friendship that felt as solid as the very ground they played upon.

But as summer waned and the leaves began to turn, change loomed on the horizon. One afternoon, Ben’s mother called them inside, her voice tinged with a hint of sadness. "Boys, we need to talk."

Alex’s heart sank as he looked at Ben, who had turned pale. The news came like a storm cloud rolling in, dark and unexpected: Ben's family was moving across the country for his dad’s new job. The reality of it hit them both like a punch to the gut.

"But we can't!" Alex protested, his voice trembling. "We’re best friends! You can’t just leave!"

"I don’t want to go, either," Ben replied, tears welling in his eyes. "But we have to."

In the days that followed, they clung to every moment, making promises that felt both essential and fragile. They carved their initials into the trunk of the big oak, a testament to their friendship. They shared one last adventure—their secret hideout where they had buried a time capsule filled with treasures, a token of their childhood dreams.

When the day finally came for Ben to leave, Alex felt as if a part of him was being torn away. They stood on the front porch, the weight of unspoken words heavy between them. Ben hugged Alex tightly, whispering, "No matter what, you’ll always be my best friend."

As the car pulled away, Alex watched Ben’s face grow smaller and smaller until it vanished from sight. The laughter that once filled their days faded into silence, replaced by the bittersweet memories of their shared childhood.

Time passed, and life pulled them in different directions. Alex would often find himself wandering back to that old oak, tracing the letters they carved into its bark, feeling the warmth of their friendship linger like the fading summer sun. Though the world had changed, the bond they formed remained etched in his heart, a cherished piece of his childhood that he would never forget.






Years Apart

**Years Apart**

As the sun dipped below the horizon, painting the sky in hues of orange and purple, Alex stood in his small studio, surrounded by canvases that captured the beauty of his hometown. He dipped his brush into a palette of colors, each stroke a reflection of the life he had built since Ben moved away. The quaint streets, the familiar faces, and the gentle rustling of leaves in the nearby woods were his muses, but amidst the vibrant scenes he created, there lingered an emptiness. He often found himself staring at the tree they had carved their initials into, a bittersweet reminder of a friendship that had weathered the storms of childhood but faded with time.

Meanwhile, in the bustling heart of the city, Ben was immersed in the world of technology, surrounded by the hum of computers and the glow of screens. He had traded the rustling leaves for the cacophony of urban life, and although he thrived in his career, he often found himself reminiscing about the adventures he and Alex had shared. Late-night coding sessions were accompanied by thoughts of the laughter they had exchanged over makeshift campfires, and the thrill of their secret hideouts in the woods. Yet, in the whirlwind of deadlines and city life, Ben never found the courage to reach out. The years slipped by, each month a reminder of the bond that once was, now an echo of the past.

Both men moved through their lives with a sense of fulfillment, yet an unshakeable feeling lingered—something was missing. Alex found success in galleries and art shows, but often, when he received compliments, he would imagine how Ben would have reacted, his wild hair bouncing with excitement. Ben, in turn, celebrated promotions and accolades, but every achievement felt slightly hollow without someone to share it with, someone who understood his journey from the very beginning.

Despite the distance, both men held a piece of each other in their hearts. They would occasionally scroll through old photos on their phones—pictures of them grinning widely, arms slung around each other, with the woods stretching behind them like a canvas of childhood. Those images brought warmth, yet they also served as a reminder of what had been lost to time and circumstance.

As the seasons changed, Alex found himself at a crossroads. He had completed his latest collection and was preparing for an exhibition that would showcase the essence of growth and change. But as he framed the last piece, a painting inspired by the memories of his childhood with Ben, he felt a tug at his heart—a longing to reconnect, to bridge the years that had kept them apart.

On the other side of the city, Ben sat in his apartment, staring at a screen filled with code that seemed to blur together. In a moment of nostalgia, he opened a drawer and pulled out an old, worn-out notebook—the very one they had used to jot down their dreams and plans as kids. As he flipped through its pages, memories flooded back, reminding him of the simplicity of their friendship and the joy it had brought him. He felt a stirring in his chest, a desire to reach out, to rekindle what they had lost.

Both men were on the brink of change, standing before the door that separated them from a reunion, unaware that fate had a plan to unite them once more.






A Chance Encounter

**Years Apart**

The years drifted by like leaves caught in a gentle autumn breeze, swirling through the seasons of life. Alex found solace in the vibrant colors of his paintbrush, each stroke on the canvas a tribute to the adventures he once shared with Ben. The small town felt comforting, its familiar streets and friendly faces wrapping around him like a warm blanket. Yet, in the quiet moments, when the sun dipped below the horizon and shadows danced across his studio, a flicker of nostalgia would ignite in his heart, reminding him of laughter echoing through the woods and the promise of forever friendship whispered beneath the tall oak tree.

Meanwhile, in the bustling heart of the city, Ben navigated the concrete labyrinth of his new life, his wild hair now tamed into a professional style that suited his ambitions in technology. He thrived amidst the buzz of innovation and the thrill of new challenges. Yet, even as he climbed the corporate ladder, the faint memory of a childhood friend lingered at the edges of his consciousness. On weekends, when he would visit parks or cafes bustling with laughter, he often found himself gazing at the sky, imagining if Alex was somewhere painting the very clouds that drifted above.

Both boys, now men, had buried their friendship beneath the weight of their new realities. Alex attended art shows and mingled with fellow creatives, sharing stories and dreams with kindred spirits. He often caught himself mentioning a friend from his childhood, a wistful smile breaking across his face, but the conversations would inevitably shift, and Ben's name would fade into the background, a ghost of a memory.

In the city, Ben would occasionally scroll through his phone, pausing at old photos from a summer long gone. His heart would swell with the joy of those carefree days, yet the urge to reconnect faded like the last light of day. He had built a life filled with achievement and ambition, but the emptiness of missing a true friend nagged at him, a silent ache he couldn’t quite place.

Years passed, and both Alex and Ben found themselves in comfortable routines, their lives rich with experiences but lacking the depth of shared memories. It wasn’t until one fateful autumn day, when Alex received an unexpected email, that the past came rushing back. The subject line read: “A Blast from the Past,” and when he opened it, he was met with a familiar face, a digital snapshot of Ben standing in front of a tech conference banner, his trademark grin lighting up the screen.

With trembling fingers, Alex typed a response, his heart racing at the thought of rekindling a friendship that had once meant the world to him. “Hey, Ben! It’s been too long. How have you been?”

As he hit send, he felt a spark of hope, the kind that flickers in the darkest of times, and for the first time in years, the thread of their childhood bond began to weave its way back into their lives.
</code></pre>
<pre><code class="language-python">
</code></pre>
<pre><code class="language-python">
</code></pre>
<pre><code class="language-python">
</code></pre>
<pre><code class="language-python">
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>